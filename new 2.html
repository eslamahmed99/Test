<!doctype html> <html lang="ar"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Troubleshooting Flow with Customer Info</title> <style> body{font-family:Arial, sans-serif;background:#f3f6fb;margin:0;padding:20px;color:#222} .main-card{background:#fff;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.10);padding:20px;max-width:860px;margin:18px auto} h1{font-size:22px;margin-bottom:12px;color:#2b5cff} .step{background:#fff;border:1px solid #e6e9fb;border-radius:10px;padding:14px;margin-bottom:14px} .q{font-size:16px;margin-bottom:10px;font-weight:700;color:#0f1724} .options{display:flex;flex-wrap:wrap;gap:10px} button.opt{flex:1;min-width:160px;padding:10px;border:1px solid #d1d8ff;border-radius:10px;background:#fff;cursor:pointer;transition:.14s} button.opt:hover{transform:translateY(-2px);background:#f5f8ff} button.opt.selected{background:#2b5cff;color:#fff;border-color:#2b5cff} .controls{display:flex;gap:8px;align-items:center;margin-top:10px} button.reset{background:#fff;border:1px solid #ffdede;color:#b30000;padding:8px 10px;border-radius:8px;cursor:pointer} .result{margin-top:18px} textarea{width:100%;height:160px;padding:10px;border:1px solid #e6e6e9;border-radius:8px;font-size:14px;background:#fbfbff;resize:vertical} .copy-btn{margin-top:8px;background:#2b5cff;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer} .copy-btn:hover{background:#2349d4} .top-actions{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;gap:12px} .restart{background:#eef7ff;border:1px solid #cfe3ff;color:#0f3bd6;padding:8px 12px;border-radius:8px;cursor:pointer} /* Landing Page */ #landing{max-width:500px;margin:80px auto;text-align:center;background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 18px rgba(0,0,0,.12)} #landing input{width:90%;padding:10px;border:1px solid #ccc;border-radius:8px;font-size:16px;margin-bottom:12px} #landing button{margin-top:12px;background:#2b5cff;color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer;font-size:16px} #landing button:hover{background:#2349d4} .final-box{margin-top:10px;padding:10px;border-radius:8px;font-weight:bold} .final-solved{background:#e6f9e6;color:#0b7a0b;border:1px solid #b3e6b3} .final-escalate{background:#ffe6e6;color:#b30000;border:1px solid #ffb3b3} </style> </head> <body> <!-- Landing Page --> <div id="landing"> <h1>Welcome</h1> <p>Please fill in all fields to start troubleshooting:</p> <input type="text" id="usernameInput" placeholder="Agent Username" /> <input type="text" id="customerNameInput" placeholder="Customer Name" /> <input type="text" id="landlineInput" placeholder="Landline Number" /> <input type="text" id="mobileInput" placeholder="Mobile Number" /> <br> <button onclick="startFlow()">Start</button> </div> <!-- Flow Page --> <div id="flowPage" style="display:none;"> <div class="main-card"> <div class="top-actions"> <h1>Browsing Troubleshooting</h1> <div> <button class="restart" id="restartBtn">Restart Flow</button> <button class="restart" id="backBtn">Back to Main Page</button> </div> </div> <div id="flow"></div> <div id="result" class="result" style="display:none;"> <h3>Generated Steps Log</h3> <textarea id="logBox" readonly></textarea> <div> <button class="copy-btn" onclick="copyLog()">Copy to Clipboard</button> <button class="copy-btn" onclick="downloadLog()">Download Log</button> </div> </div> </div> </div> <script> /* ====== Flow definition ====== */ const FLOW = { q1: { text: "Can you check the service on another device?", options: [ {label: "Problem Solved", end:"solved"}, {label: "Problem still the same", next:"q2"}, {label: "Another device not available", next:"q2"} ] }, q2: { text: "Can you ping Google Domain using HDM?", options: [ {label: "Reply", end:"solved"}, {label: "No Reply", next:"q3"} ] }, q3: { text: "Did you check TCP/IP settings?", options: [ {label: "Problem Solved", end:"solved"}, {label: "Problem still the same", end:"escalate"} ] } }; let answers = {}; let sessionData = {}; /* ====== Landing ====== */ function startFlow(){ const user = document.getElementById("usernameInput").value.trim(); const cname = document.getElementById("customerNameInput").value.trim(); const landline = document.getElementById("landlineInput").value.trim(); const mobile = document.getElementById("mobileInput").value.trim(); if(!user || !cname || !landline || !mobile){ alert("âš ï¸ Please fill in all fields before starting!"); return; } sessionData = {user, cname, landline, mobile}; document.getElementById("landing").style.display="none"; document.getElementById("flowPage").style.display="block"; render(); } /* ====== Helpers ====== */ function buildNodesToRender() { const nodes = []; let cur = "q1"; while (cur) { nodes.push(cur); const ans = answers[cur]; if (!ans) break; const choice = FLOW[cur].options.find(o => o.label === ans); if (!choice) break; if (choice.end) break; cur = choice.next; } return nodes; } function buildAnsweredPath() { const answered = []; let cur = "q1"; while (cur) { const ans = answers[cur]; if (!ans) break; answered.push(cur); const choice = FLOW[cur].options.find(o => o.label === ans); if (!choice) break; if (choice.end) break; cur = choice.next; } return answered; } function pruneAnswersToCurrentPath() { const nodes = buildNodesToRender(); Object.keys(answers).forEach(k=>{ if (k === "end") return; if (!nodes.includes(k)) delete answers[k]; }); delete answers["end"]; } /* ====== Rendering ====== */ const flowDiv = document.getElementById("flow"); const resultDiv = document.getElementById("result"); const logBox = document.getElementById("logBox"); function render(){ flowDiv.innerHTML = ""; const nodes = buildNodesToRender(); nodes.forEach(nodeKey => { const step = FLOW[nodeKey]; const stepDiv = document.createElement("div"); stepDiv.className = "step"; const q = document.createElement("div"); q.className = "q"; q.textContent = step.text; stepDiv.appendChild(q); const opts = document.createElement("div"); opts.className = "options"; const qKey = nodeKey; step.options.forEach(opt => { const btn = document.createElement("button"); btn.className = "opt"; btn.textContent = opt.label; if (answers[qKey] === opt.label) btn.classList.add("selected"); btn.onclick = () => { answers[qKey] = opt.label; pruneAnswersToCurrentPath(); if (opt.end) answers["end"] = opt.end; else delete answers["end"]; render(); }; opts.appendChild(btn); }); stepDiv.appendChild(opts); const controls = document.createElement("div"); controls.className = "controls"; const resetBtn = document.createElement("button"); resetBtn.className = "reset"; resetBtn.textContent = "Reset Answer"; resetBtn.onclick = () => { delete answers[qKey]; pruneAnswersToCurrentPath(); render(); }; controls.appendChild(resetBtn); stepDiv.appendChild(controls); // âœ… Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ø¹Ø¯ ÙƒÙ„ Ø®Ø·ÙˆØ© if (answers[qKey]) { const choice = step.options.find(o => o.label === answers[qKey]); if (choice && choice.end) { const finalMsg = document.createElement("div"); finalMsg.className = "final-box " + (choice.end === "solved" ? "final-solved" : "final-escalate"); finalMsg.textContent = choice.end === "solved" ? "âœ… Problem Solved" : "âš ï¸ Escalation Required"; stepDiv.appendChild(finalMsg); } } flowDiv.appendChild(stepDiv); }); updateLog(); } /* ====== Log & Copy ====== */ function updateLog(){ const logLines = []; if(Object.keys(sessionData).length){ logLines.push(ðŸ‘¤ Agent: ${sessionData.user}); logLines.push(ðŸ§‘ Customer: ${sessionData.cname}); logLines.push(â˜Žï¸ Landline: ${sessionData.landline}); logLines.push(ðŸ“± Mobile: ${sessionData.mobile}); logLines.push("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"); } const ansPath = buildAnsweredPath(); for (const k of ansPath) { logLines.push(${FLOW[k].text} â†’ ${answers[k]}); } if (ansPath.length) { const lastKey = ansPath[ansPath.length-1]; const lastChoice = FLOW[lastKey].options.find(o => o.label === answers[lastKey]); if (lastChoice && lastChoice.end) { if (lastChoice.end === "solved") logLines.push("âœ… Problem Solved"); else if (lastChoice.end === "escalate") logLines.push("âš ï¸ Escalation Required"); } } logBox.value = logLines.join("\n"); resultDiv.style.display = logLines.length ? "block" : "none"; } function copyLog(){ logBox.select(); document.execCommand("copy"); alert("Steps copied!"); } function downloadLog(){ const now = new Date(); const date = now.toISOString().split("T")[0]; // YYYY-MM-DD const time = now.toTimeString().split(" ")[0].replace(/:/g, "-"); // HH-MM-SS const safeCustomer = (sessionData.cname || "Customer").replace(/\s+/g, "_"); const safeMobile = (sessionData.mobile || "Mobile").replace(/\s+/g, "_"); const fileName = troubleshooting_log_${safeCustomer}_${safeMobile}_${date}_${time}.txt; const blob = new Blob([logBox.value], {type: "text/plain"}); const url = URL.createObjectURL(blob); const a = document.createElement("a"); a.href = url; a.download = fileName; a.click(); URL.revokeObjectURL(url); } /* ====== Restart & Back buttons ====== */ document.getElementById("restartBtn").onclick = () => { answers = {}; render(); }; document.getElementById("backBtn").onclick = () => { document.getElementById("usernameInput").value = sessionData.user || ""; document.getElementById("customerNameInput").value = sessionData.cname || ""; document.getElementById("landlineInput").value = sessionData.landline || ""; document.getElementById("mobileInput").value = sessionData.mobile || ""; document.getElementById("flowPage").style.display = "none"; document.getElementById("landing").style.display = "block"; }; </script> </body> </html>